<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 900" style="background: #ffffff;">
  <defs>
    <style>
      .title { font: bold 18px Arial; fill: #232f3e; text-anchor: middle; }
      .subtitle { font: 12px Arial; fill: #546e7a; text-anchor: middle; }
      .service-name { font: bold 11px Arial; fill: #232f3e; text-anchor: middle; }
      .service-desc { font: 9px Arial; fill: #546e7a; text-anchor: middle; }
      .zone-title { font: bold 12px Arial; fill: #232f3e; }
      .flow-text { font: 8px Arial; fill: #666; text-anchor: middle; }
      .region-border { fill: none; stroke: #2196f3; stroke-width: 2; stroke-dasharray: 8,4; }
      .zone-border { fill: none; stroke: #ff9800; stroke-width: 1; stroke-dasharray: 4,2; }
    </style>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="8" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="700" y="25" class="title">Aegis Cloud Scanner - System Architecture</text>
  <text x="700" y="45" class="subtitle">Multi-Cloud Security Assessment Platform</text>

  <!-- Internet/User Zone -->
  <rect x="50" y="70" width="1300" height="80" fill="#f5f5f5" stroke="#ddd" stroke-width="1" rx="5"/>
  <text x="60" y="85" class="zone-title">Internet / Users</text>

  <!-- User Icon -->
  <rect x="100" y="100" width="60" height="40" fill="#4caf50" rx="5"/>
  <text x="130" y="115" class="service-name" style="fill: white;">Users</text>
  <text x="130" y="125" class="service-desc" style="fill: white;">Web Browsers</text>

  <!-- DNS -->
  <rect x="200" y="100" width="80" height="40" fill="#2196f3" rx="5"/>
  <text x="240" y="115" class="service-name" style="fill: white;">DNS</text>
  <text x="240" y="125" class="service-desc" style="fill: white;">Namecheap</text>

  <!-- Domain -->
  <rect x="320" y="100" width="120" height="40" fill="#ff5722" rx="5"/>
  <text x="380" y="115" class="service-name" style="fill: white;">aegis-scanner.ink</text>
  <text x="380" y="125" class="service-desc" style="fill: white;">SSL Certificate</text>

  <!-- AWS Lightsail Region -->
  <rect x="50" y="170" width="1300" height="680" class="region-border" rx="10"/>
  <text x="60" y="190" class="zone-title">AWS Lightsail - ap-south-1 (Mumbai)</text>
  <text x="60" y="205" style="font: 10px Arial; fill: #666;">IP: 52.66.204.123 | Ubuntu 22.04 LTS</text>

  <!-- Load Balancer Zone -->
  <rect x="70" y="220" width="1260" height="100" fill="#e3f2fd" stroke="#2196f3" stroke-width="1" rx="5"/>
  <text x="80" y="235" class="zone-title">Load Balancer &amp; Proxy Layer</text>

  <!-- Nginx -->
  <rect x="100" y="250" width="100" height="60" fill="#4caf50" rx="5"/>
  <text x="150" y="270" class="service-name" style="fill: white;">Nginx</text>
  <text x="150" y="280" class="service-desc" style="fill: white;">Reverse Proxy</text>
  <text x="150" y="295" class="service-desc" style="fill: white;">SSL Termination</text>

  <!-- Let's Encrypt -->
  <rect x="230" y="250" width="100" height="60" fill="#ff9800" rx="5"/>
  <text x="280" y="270" class="service-name" style="fill: white;">Let's Encrypt</text>
  <text x="280" y="280" class="service-desc" style="fill: white;">SSL Certificate</text>
  <text x="280" y="295" class="service-desc" style="fill: white;">Auto Renewal</text>

  <!-- Landing Page -->
  <rect x="360" y="250" width="120" height="60" fill="#9c27b0" rx="5"/>
  <text x="420" y="270" class="service-name" style="fill: white;">Landing Page</text>
  <text x="420" y="280" class="service-desc" style="fill: white;">Static Website</text>
  <text x="420" y="295" class="service-desc" style="fill: white;">Basic/Advanced</text>

  <!-- Application Zone -->
  <rect x="70" y="340" width="1260" height="150" fill="#f3e5f5" stroke="#9c27b0" stroke-width="1" rx="5"/>
  <text x="80" y="355" class="zone-title">Application Layer</text>

  <!-- Gunicorn -->
  <rect x="100" y="370" width="100" height="60" fill="#4caf50" rx="5"/>
  <text x="150" y="390" class="service-name" style="fill: white;">Gunicorn</text>
  <text x="150" y="400" class="service-desc" style="fill: white;">WSGI Server</text>
  <text x="150" y="415" class="service-desc" style="fill: white;">3 Workers</text>

  <!-- Flask App -->
  <rect x="230" y="370" width="120" height="60" fill="#e91e63" rx="5"/>
  <text x="290" y="390" class="service-name" style="fill: white;">Flask App</text>
  <text x="290" y="400" class="service-desc" style="fill: white;">Aegis Scanner</text>
  <text x="290" y="415" class="service-desc" style="fill: white;">Web Dashboard</text>

  <!-- Authentication -->
  <rect x="380" y="370" width="100" height="60" fill="#ff5722" rx="5"/>
  <text x="430" y="390" class="service-name" style="fill: white;">Auth System</text>
  <text x="430" y="400" class="service-desc" style="fill: white;">2FA Enabled</text>
  <text x="430" y="415" class="service-desc" style="fill: white;">Session Mgmt</text>

  <!-- Scanner Engine -->
  <rect x="510" y="370" width="120" height="60" fill="#3f51b5" rx="5"/>
  <text x="570" y="390" class="service-name" style="fill: white;">Scanner Engine</text>
  <text x="570" y="400" class="service-desc" style="fill: white;">Multi-Cloud</text>
  <text x="570" y="415" class="service-desc" style="fill: white;">Parallel Scans</text>

  <!-- Reports Generator -->
  <rect x="660" y="370" width="120" height="60" fill="#607d8b" rx="5"/>
  <text x="720" y="390" class="service-name" style="fill: white;">Report Engine</text>
  <text x="720" y="400" class="service-desc" style="fill: white;">PDF/CSV/JSON</text>
  <text x="720" y="415" class="service-desc" style="fill: white;">Multiple Types</text>

  <!-- AI Integration -->
  <rect x="810" y="370" width="120" height="60" fill="#795548" rx="5"/>
  <text x="870" y="390" class="service-name" style="fill: white;">AI Analysis</text>
  <text x="870" y="400" class="service-desc" style="fill: white;">Google Gemini</text>
  <text x="870" y="415" class="service-desc" style="fill: white;">Risk Insights</text>

  <!-- Security Manager -->
  <rect x="960" y="370" width="120" height="60" fill="#f44336" rx="5"/>
  <text x="1020" y="390" class="service-name" style="fill: white;">Security Mgr</text>
  <text x="1020" y="400" class="service-desc" style="fill: white;">Encryption</text>
  <text x="1020" y="415" class="service-desc" style="fill: white;">Key Management</text>

  <!-- Logging System -->
  <rect x="1110" y="370" width="120" height="60" fill="#009688" rx="5"/>
  <text x="1170" y="390" class="service-name" style="fill: white;">Logging</text>
  <text x="1170" y="400" class="service-desc" style="fill: white;">Structured Logs</text>
  <text x="1170" y="415" class="service-desc" style="fill: white;">Audit Trail</text>

  <!-- Data Zone -->
  <rect x="70" y="510" width="1260" height="120" fill="#fff3e0" stroke="#ff9800" stroke-width="1" rx="5"/>
  <text x="80" y="525" class="zone-title">Data &amp; Storage Layer</text>

  <!-- SQLite Database -->
  <rect x="100" y="540" width="120" height="70" fill="#4caf50" rx="5"/>
  <text x="160" y="565" class="service-name" style="fill: white;">SQLite DB</text>
  <text x="160" y="575" class="service-desc" style="fill: white;">SQLAlchemy ORM</text>
  <text x="160" y="585" class="service-desc" style="fill: white;">Users, Scans</text>
  <text x="160" y="595" class="service-desc" style="fill: white;">Credentials</text>

  <!-- File Storage -->
  <rect x="250" y="540" width="120" height="70" fill="#ff9800" rx="5"/>
  <text x="310" y="565" class="service-name" style="fill: white;">File Storage</text>
  <text x="310" y="575" class="service-desc" style="fill: white;">Local Filesystem</text>
  <text x="310" y="585" class="service-desc" style="fill: white;">Reports, Logs</text>
  <text x="310" y="595" class="service-desc" style="fill: white;">Static Assets</text>

  <!-- Cache System -->
  <rect x="400" y="540" width="120" height="70" fill="#e91e63" rx="5"/>
  <text x="460" y="565" class="service-name" style="fill: white;">Cache</text>
  <text x="460" y="575" class="service-desc" style="fill: white;">In-Memory</text>
  <text x="460" y="585" class="service-desc" style="fill: white;">Session Data</text>
  <text x="460" y="595" class="service-desc" style="fill: white;">Scan Results</text>

  <!-- Configuration -->
  <rect x="550" y="540" width="120" height="70" fill="#9c27b0" rx="5"/>
  <text x="610" y="565" class="service-name" style="fill: white;">Configuration</text>
  <text x="610" y="575" class="service-desc" style="fill: white;">.env Files</text>
  <text x="610" y="585" class="service-desc" style="fill: white;">JSON Settings</text>
  <text x="610" y="595" class="service-desc" style="fill: white;">API Keys</text>

  <!-- Scheduler -->
  <rect x="700" y="540" width="120" height="70" fill="#3f51b5" rx="5"/>
  <text x="760" y="565" class="service-name" style="fill: white;">Scheduler</text>
  <text x="760" y="575" class="service-desc" style="fill: white;">APScheduler</text>
  <text x="760" y="585" class="service-desc" style="fill: white;">Cron Jobs</text>
  <text x="760" y="595" class="service-desc" style="fill: white;">Auto Reports</text>

  <!-- Migration Support -->
  <rect x="850" y="540" width="120" height="70" fill="#607d8b" rx="5"/>
  <text x="910" y="565" class="service-name" style="fill: white;">Migration</text>
  <text x="910" y="575" class="service-desc" style="fill: white;">PostgreSQL</text>
  <text x="910" y="585" class="service-desc" style="fill: white;">Data Backup</text>
  <text x="910" y="595" class="service-desc" style="fill: white;">Verification</text>

  <!-- External Services Zone -->
  <rect x="70" y="650" width="1260" height="180" fill="#e8f5e8" stroke="#4caf50" stroke-width="1" rx="5"/>
  <text x="80" y="665" class="zone-title">External Cloud Services &amp; APIs</text>

  <!-- AWS Services -->
  <rect x="100" y="690" width="140" height="80" fill="#ff9800" rx="5"/>
  <text x="170" y="715" class="service-name" style="fill: white;">AWS Services</text>
  <text x="170" y="725" class="service-desc" style="fill: white;">EC2, S3, IAM</text>
  <text x="170" y="735" class="service-desc" style="fill: white;">RDS, Lambda</text>
  <text x="170" y="745" class="service-desc" style="fill: white;">CloudTrail, Config</text>
  <text x="170" y="755" class="service-desc" style="fill: white;">boto3 SDK</text>

  <!-- Azure Services -->
  <rect x="270" y="690" width="140" height="80" fill="#2196f3" rx="5"/>
  <text x="340" y="715" class="service-name" style="fill: white;">Azure Services</text>
  <text x="340" y="725" class="service-desc" style="fill: white;">VMs, Storage</text>
  <text x="340" y="735" class="service-desc" style="fill: white;">Key Vault, AD</text>
  <text x="340" y="745" class="service-desc" style="fill: white;">Security Center</text>
  <text x="340" y="755" class="service-desc" style="fill: white;">Azure SDK</text>

  <!-- GCP Services -->
  <rect x="440" y="690" width="140" height="80" fill="#4caf50" rx="5"/>
  <text x="510" y="715" class="service-name" style="fill: white;">GCP Services</text>
  <text x="510" y="725" class="service-desc" style="fill: white;">Compute, Storage</text>
  <text x="510" y="735" class="service-desc" style="fill: white;">IAM, Cloud SQL</text>
  <text x="510" y="745" class="service-desc" style="fill: white;">Security Command</text>
  <text x="510" y="755" class="service-desc" style="fill: white;">GCP SDK</text>

  <!-- Google AI -->
  <rect x="610" y="690" width="140" height="80" fill="#e91e63" rx="5"/>
  <text x="680" y="715" class="service-name" style="fill: white;">Google AI</text>
  <text x="680" y="725" class="service-desc" style="fill: white;">Gemini API</text>
  <text x="680" y="735" class="service-desc" style="fill: white;">Risk Analysis</text>
  <text x="680" y="745" class="service-desc" style="fill: white;">Smart Insights</text>
  <text x="680" y="755" class="service-desc" style="fill: white;">Auto Remediation</text>

  <!-- Email Services -->
  <rect x="780" y="690" width="140" height="80" fill="#795548" rx="5"/>
  <text x="850" y="715" class="service-name" style="fill: white;">Email Services</text>
  <text x="850" y="725" class="service-desc" style="fill: white;">Gmail SMTP</text>
  <text x="850" y="735" class="service-desc" style="fill: white;">Report Delivery</text>
  <text x="850" y="745" class="service-desc" style="fill: white;">2FA Codes</text>
  <text x="850" y="755" class="service-desc" style="fill: white;">Notifications</text>

  <!-- ServiceNow -->
  <rect x="950" y="690" width="140" height="80" fill="#009688" rx="5"/>
  <text x="1020" y="715" class="service-name" style="fill: white;">ServiceNow</text>
  <text x="1020" y="725" class="service-desc" style="fill: white;">ITSM Integration</text>
  <text x="1020" y="735" class="service-desc" style="fill: white;">Incident Creation</text>
  <text x="1020" y="745" class="service-desc" style="fill: white;">Workflow Auto</text>
  <text x="1020" y="755" class="service-desc" style="fill: white;">REST API</text>

  <!-- Compliance -->
  <rect x="1120" y="690" width="140" height="80" fill="#9c27b0" rx="5"/>
  <text x="1190" y="715" class="service-name" style="fill: white;">Compliance</text>
  <text x="1190" y="725" class="service-desc" style="fill: white;">SOC2, PCI DSS</text>
  <text x="1190" y="735" class="service-desc" style="fill: white;">GDPR, NIST</text>
  <text x="1190" y="745" class="service-desc" style="fill: white;">CIS Benchmarks</text>
  <text x="1190" y="755" class="service-desc" style="fill: white;">ISO 27001</text>

  <!-- Flow Arrows -->
  <!-- User to DNS -->
  <line x1="160" y1="120" x2="200" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="180" y="115" class="flow-text">DNS Lookup</text>

  <!-- DNS to Domain -->
  <line x1="280" y1="120" x2="320" y2="120" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Domain to Nginx -->
  <line x1="380" y1="140" x2="150" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="265" y="195" class="flow-text">HTTPS Request</text>

  <!-- Nginx to Landing Page -->
  <line x1="200" y1="280" x2="360" y2="280" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="280" y="275" class="flow-text">Route</text>

  <!-- Nginx to Gunicorn -->
  <line x1="150" y1="310" x2="150" y2="370" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="160" y="340" class="flow-text">Proxy</text>

  <!-- Gunicorn to Flask -->
  <line x1="200" y1="400" x2="230" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="215" y="395" class="flow-text">WSGI</text>

  <!-- Flask to Auth -->
  <line x1="350" y1="400" x2="380" y2="400" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Flask to Scanner -->
  <line x1="350" y1="385" x2="510" y2="385" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="430" y="380" class="flow-text">Scan Request</text>

  <!-- Scanner to Cloud Services -->
  <line x1="570" y1="430" x2="340" y2="690" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="455" y="560" class="flow-text">API Calls</text>

  <!-- Flask to Database -->
  <line x1="290" y1="430" x2="160" y2="540" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="225" y="485" class="flow-text">Store Data</text>

  <!-- Flask to Reports -->
  <line x1="350" y1="415" x2="660" y2="415" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="505" y="410" class="flow-text">Generate Reports</text>

  <!-- Reports to File Storage -->
  <line x1="720" y1="430" x2="310" y2="540" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="515" y="485" class="flow-text">Save Files</text>

  <!-- AI Integration -->
  <line x1="870" y1="430" x2="680" y2="690" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <text x="775" y="560" class="flow-text">AI Analysis</text>
</svg>